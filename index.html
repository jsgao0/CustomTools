<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <title>Customtools by jsgao0</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style type="text/css">
            header, footer {
                display: none;
            }
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
    </head>
    <body>
        <header>
            <h1 class="project-name">Customtools</h1>
            <h2 class="project-tagline">It&#39;s only bicycle tools.</h2>
        </header>

        <section class="main-content">
        

        </section>

        <footer class="site-footer">
            <span class="site-footer-owner"><a href="https://github.com/jsgao0/CustomTools">Customtools</a> is maintained by <a href="https://github.com/jsgao0">jsgao0</a>.</span>

            <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
        </footer>

        <script type="text/javascript">
            // var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            // document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
            // try {
            // var pageTracker = _gat._getTracker("UA-59178595-3");
            // pageTracker._trackPageview();
            // } catch(err) {}
        </script>

        <script type="text/javascript" src="./javascripts/three.min.js"></script>
        <script type="text/javascript" src="./javascripts/DDSLoader.js"></script>
        <script type="text/javascript" src="./javascripts/MTLLoader.js"></script>
        <script type="text/javascript" src="./javascripts/OBJMTLLoader.js"></script>

        <script type="text/javascript">


            var container, stats;

            var camera, scene, renderer;

            var mouseX = 0, mouseY = 0;

            var windowHalfX = window.innerWidth / 2;
            var windowHalfY = window.innerHeight / 2;


            init();
            animate();


            function init() {

                container = document.createElement( 'div' );
                document.getElementsByClassName("main-content")[0].appendChild( container );

                camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 2000 );
                camera.position.y = 200;

                // scene

                scene = new THREE.Scene();

                var ambient = new THREE.AmbientLight( 0xFFFFFF );
                scene.add( ambient );

                var directionalLight = new THREE.DirectionalLight( 0xffeeee );
                // directionalLight.position.set( 0, 20, 0 ).normalize();
                // scene.add( directionalLight );

                // model

                var onProgress = function ( xhr ) {
                    if ( xhr.lengthComputable ) {
                        var percentComplete = xhr.loaded / xhr.total * 100;
                        console.log( Math.round(percentComplete, 2) + '% downloaded' );
                    }
                };

                var onError = function ( xhr ) {
                };

                THREE.Loader.Handlers.add( /\.dds$/i, new THREE.DDSLoader() );

                var loader = new THREE.OBJMTLLoader();
                loader.load( 'obj/TOOLS_Templates_colour_TEST.obj', 'obj/TOOLS_Templates_colour_TEST.mtl', function ( object ) {

                    object.position.set(0, 0, 0);
                    console.log(object)
                    console.log(camera)
                    console.log(scene)
                    scene.add( object );

                }, onProgress, onError );


                renderer = new THREE.WebGLRenderer();
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( window.innerWidth, window.innerHeight );
                container.appendChild( renderer.domElement );

                // document.addEventListener( 'mousemove', onDocumentMouseMove, false );

                window.addEventListener( 'resize', onWindowResize, false );

            }

            function onWindowResize(event) {

                event.preventDefault();

                windowHalfX = window.innerWidth / 2;
                windowHalfY = window.innerHeight / 2;

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );

            }

            function onDocumentMouseMove( event ) {

                mouseX = ( event.clientX - windowHalfX ) / 2;
                mouseY = ( event.clientY - windowHalfY ) / 2;

            }

            //

            function animate() {

                requestAnimationFrame( animate );
                render();

            }

            function render() {

                // camera.position.x += ( mouseX - camera.position.x ) * .05;
                // camera.position.y += ( - mouseY - camera.position.y ) * .05;

                camera.lookAt( scene.position );

                renderer.render( scene, camera );

            }

        
        </script>

    </body>
</html>
